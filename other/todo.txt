

update bookie amounts - when adding a bonus bet it changed the wagerable amount - not sure why, update bets is not getting called

expand bets to more than moneyline

clean up code inside tworesult and threeresult? - and other places (variable names, efficiency)
 - add comments







<!-- Pop-up Modal for Bet Selection -->
<div class="modal fade" id="betModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Take Bet</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="betForm" method="POST" action="{{ url_for('take_bet') }}">
                    <input type="hidden" name="bet_id" id="modal-bet-id">
                    <input type="hidden" name="team" id="modal-team">
                    <input type="hidden" name="sport" id="modal-sport">
                    <input type="hidden" name="odds" id="modal-odds">
                    <input type="hidden" name="ev" id="modal-ev">
                    <input type="hidden" name="date" id="modal-date">

                    <div class="mb-3">
                        <label for="bookie" class="form-label">Select Bookie:</label>
                        <select name="bookie" id="modal-bookie" class="form-select" required></select>
                    </div>

                    <div class="mb-3">
                        <label for="amount" class="form-label">Bet Amount ($):</label>
                        <input type="number" name="amount" id="modal-amount" class="form-control" min="1" required>
                    </div>

                    <button type="submit" class="btn btn-success">Confirm Bet</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap + jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function() {
        $(".take-bet-btn").click(function() {
            let bet_id = $(this).data("bet_id");
            console.log("Bet ID:", bet_id);
            let team = $(this).data("team");
            let sport = $(this).data("sport");
            let bookies = $(this).data("bookies").split(",");
            let odds = $(this).data("odds");
            let ev = $(this).data("ev");
            let date = $(this).data("date");
            let amount = $(this).data("amount");

            // Populate modal fields
            $("#modal-bet-id").val(bet_id);
            $("#modal-team").val(team);
            $("#modal-sport").val(sport);
            $("#modal-odds").val(odds);
            $("#modal-ev").val(ev);
            $("#modal-date").val(date);
            $("#modal-amount").val(amount)

            // Populate bookie dropdown
            let bookieDropdown = $("#modal-bookie");
            bookieDropdown.empty();
            bookies.forEach(bookie => {
                bookieDropdown.append(`<option value="${bookie}">${bookie}</option>`);
            });

            // Show modal
            $("#betModal").modal("show");
        });
    });
</script>
{%endblock%}
